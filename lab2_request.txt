实验2  SQL

 

（1）创建学生表：Student(Sno,Sname,Ssex,birthday,class)

Student由学号(Sno)、姓名(Sname)、性别(Ssex)、生日(birthday)、班级(class)五个属性组成，其中Sno为主码。Ssex约束为“男”或“女”;

 

（2）创建课程表：Course(Cno,Cname,Cpno,Ccredit, tno)

Course由课程号(Cno)、课程名(Cname)、先修课号(Cpno)、学分(Ccredit)、任课教师号(tno)五个属性组成，其中Cno为主码，任课教师号(tno)为外码。Ccredit默认值为0; 一门相同课程名允许有多个不同老师分别承担，但课程号不同。一位老师允许承担多门课程。

 

（3）学生选课表：Score(Sno,Cno,Grade）

SC由学号(Sno)、课程号(Cno)、成绩(Grade)三个属性组成，主码为(Sno,Cno)，Cno和Sno为外码，成绩默认值为0~100，允许空值。

 

（4）教师表：Teacher(tno,name,sex,prof,depart,salary）

Teacher由教师号( tno)、教师名(name)、性别(sex)、职称(prof)、部门(depart)、薪酬(salary)六个属性组成，主码为(tno), 性别(sex)约束为“男”或“女”，要求教授的薪酬>10000元，副教授薪酬>8000元，部门允许空值。

 

（5）课程表Course 增加一个属性“开设学期”，选课表Score中增加一个属性“考试状态”，取值约束为“正常”，“旷考”，“缓考”，“无资格”之一。考试状态正常时成绩大于等于0，旷考时成绩等于0，缓考或无资格时成绩为空值。

 

（6）删除教师表Teacher中关于薪酬的约束。

 

(7) 对四个表，插入多行完整的记录。（记录数目适当多一些，能够体现表的数据关系模型，便于下面的查询计算）

 

（8）查询教师表Teacher中所有薪酬值。

 

（9）查询学生表Student中所有班级。

 

(10)  查询某一门课程”XXXXXX”的开设学期和任课教师姓名。

 

(11) 查询学号为“XXXXXXX”的学生所修课程的课程名称、成绩、任课教师名。

 

（12）查询课程号为“XXXXXXX”的学生成绩不及格（<60）的名单、申请缓考或无资格的名单。

 

(13) 查询课程号为“XXXXXXX”的学生中所有姓张的男学生学号。

 

（14）查询课程号为“XXXXXXX”的学生所有参加考试的学生名单。

 

（15）先按课程号排序再按学号排序输出全部学生选课表信息。

 

（16）查询教师号为“XXXXX”的姓名及所有承担课程情况的信息。

 

（17）查询教师姓名为“XXXXX”在第“YYYY”学期承担“ZZZZZ”课程中某个班级学生名单。

 

 

（18）查询课程号为“XXXXXX“成绩为良好以上的（>=80）的学生名单。

 

（19）查询哪些课程是由教授职称的老师承担教学任务的。

 

（20）查询哪些部门的教师承担某一班级的教学任务。

 

(21) 列出每个学生所有课程中自己最高成绩的课程信息。

 

（22）列出哪些部门还没有承担教学任务的教师信息。

 

（23）统计出生年份为“XXXX“的女学生人数。

 

（24）求承担课程名为“XXXXXXX“教学的教师中最高薪酬。

 

（25）求某一班级学生的所有课程平均成绩（缓考和无资格者不计）。

 

（26）求至少有5位教师的每个部门的平均薪酬。

 

（27）列出教师全部记录并计算各部门的平均薪酬和薪酬小计，最后给出全体教师的平均薪酬和薪酬总和。

 

（28）因缓考将某一班级课程号为“XXXXXX”的学生成绩改为空值。

 

（29）将承担某一课程的所有教师薪酬提高5%。

 

（30）在学生选课表上建立学号和课程号的普通索引，均按升序。

 

（31）查询某一门课程所有先修课程（限定2门）中成绩不及格学生的名单。

 

写出上述要求的SQL语句及其执行结果， 提交实验报告。
